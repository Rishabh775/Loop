import{r as x,j as e}from"./index-BUtMQJI8.js";import{G as r,B as b,A as p,a as y,b as w}from"./index-Cb8QUniz.js";function j(l){return r({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 17.456C11.2389 17.8053 10.3922 18 9.5 18C6.18629 18 3.5 15.3137 3.5 12C3.5 8.68629 6.18629 6 9.5 6C10.3922 6 11.2389 6.19474 12 6.54404C12.7611 6.19474 13.6078 6 14.5 6C17.8137 6 20.5 8.68629 20.5 12C20.5 15.3137 17.8137 18 14.5 18C13.6078 18 12.7611 17.8053 12 17.456ZM10.0003 15.969C9.83637 15.9895 9.66942 16 9.5 16C7.29086 16 5.5 14.2091 5.5 12C5.5 9.79086 7.29086 8 9.5 8C9.66942 8 9.83637 8.01053 10.0003 8.03098C9.06656 9.08871 8.5 10.4782 8.5 12C8.5 13.5218 9.06656 14.9113 10.0003 15.969ZM13.9998 8.03098C14.1636 8.01054 14.3306 8 14.5 8C16.7091 8 18.5 9.79086 18.5 12C18.5 14.2091 16.7091 16 14.5 16C14.3306 16 14.1636 15.9895 13.9998 15.969C14.9334 14.9113 15.5 13.5218 15.5 12C15.5 10.4782 14.9334 9.08872 13.9998 8.03098ZM12 8.87732C12.9145 9.61038 13.5 10.7368 13.5 12C13.5 13.2632 12.9145 14.3896 12 15.1227C11.0855 14.3896 10.5 13.2632 10.5 12C10.5 10.7368 11.0855 9.61038 12 8.87732Z",fill:"currentColor"},child:[]}]})(l)}function C(l){return r({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M2 5H14V7H2V5Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M2 9H14V11H2V9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M10 13H2V15H10V13Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M16 9H18V13H22V15H18V19H16V15H12V13H16V9Z",fill:"currentColor"},child:[]}]})(l)}function N(l){return r({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 18.5455v3.2727h3.2727c0-1.811-1.4618-3.2727-3.2727-3.2727zm0-4.3637v2.1818c3.011 0 5.4545 2.4437 5.4545 5.4546h2.1819c0-4.2218-3.4146-7.6364-7.6364-7.6364zm0-4.3636V12c5.4218 0 9.8182 4.3964 9.8182 9.8182H12c0-6.6327-5.3782-12-12-12zm21.8182-7.6364H2.1818C.9818 2.1818 0 3.1636 0 4.3636v3.2728h2.1818V4.3636h19.6364v15.2728h-7.6364v2.1818h7.6364c1.2 0 2.1818-.9818 2.1818-2.1818V4.3636c0-1.2-.9818-2.1818-2.1818-2.1818Z"},child:[]}]})(l)}function M(l){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m18 4-4 4h3v7c0 1.1-.9 2-2 2s-2-.9-2-2V8c0-2.21-1.79-4-4-4S5 5.79 5 8v7H2l4 4 4-4H7V8c0-1.1.9-2 2-2s2 .9 2 2v7c0 2.21 1.79 4 4 4s4-1.79 4-4V8h3l-4-4z"},child:[]}]})(l)}function H(l){return r({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M3.35355 1.85355C3.54882 1.65829 3.54882 1.34171 3.35355 1.14645C3.15829 0.951184 2.84171 0.951184 2.64645 1.14645L0.646447 3.14645C0.451184 3.34171 0.451184 3.65829 0.646447 3.85355L2.64645 5.85355C2.84171 6.04882 3.15829 6.04882 3.35355 5.85355C3.54882 5.65829 3.54882 5.34171 3.35355 5.14645L2.20711 4H9.5C11.433 4 13 5.567 13 7.5C13 7.77614 13.2239 8 13.5 8C13.7761 8 14 7.77614 14 7.5C14 5.01472 11.9853 3 9.5 3H2.20711L3.35355 1.85355ZM2 7.5C2 7.22386 1.77614 7 1.5 7C1.22386 7 1 7.22386 1 7.5C1 9.98528 3.01472 12 5.5 12H12.7929L11.6464 13.1464C11.4512 13.3417 11.4512 13.6583 11.6464 13.8536C11.8417 14.0488 12.1583 14.0488 12.3536 13.8536L14.3536 11.8536C14.5488 11.6583 14.5488 11.3417 14.3536 11.1464L12.3536 9.14645C12.1583 8.95118 11.8417 8.95118 11.6464 9.14645C11.4512 9.34171 11.4512 9.65829 11.6464 9.85355L12.7929 11H5.5C3.567 11 2 9.433 2 7.5Z",fill:"currentColor"},child:[]}]})(l)}function P(l){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"m9 17 8-5-8-5z"},child:[]}]})(l)}function V(){const[l,i]=x.useState(()=>{const s=localStorage.getItem("playlist");return JSON.parse(s||"[]")}),[o,c]=x.useState(0),d=x.useRef(null);return x.useEffect(()=>{localStorage.setItem("playlist",JSON.stringify(l))},[l]),x.useEffect(()=>{d.current&&(d.current.play(),i(s=>s.map((t,a)=>a===o?{...t,isPlaying:!0}:{...t,isPlaying:!1})))},[o]),{playlist:l,currentTrackIndex:o,audioRef:d,handleUpload:s=>{var a;const t=(a=s.target.files)==null?void 0:a[0];if(t){const g=URL.createObjectURL(t);i(n=>[...n,{name:t.name,lastModified:t.lastModified,size:t.size,isPlaying:!1,links:g}])}},handleTrackEnd:()=>{c(s=>s===l.length-1?0:s+1)},handlePlayPause:(s,t)=>{s.preventDefault();const a=l.map(n=>n.lastModified===t?{...n,isPlaying:!n.isPlaying}:{...n,isPlaying:!1});i(a);const g=a.findIndex(n=>n.lastModified===t);c(g)},handleDelete:s=>{i(t=>t.filter(a=>a.lastModified!==s))}}}function v(l){return r({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(l)}const R=()=>{var h,u;const{playlist:l,currentTrackIndex:i,audioRef:o,handleUpload:c,handleTrackEnd:d,handlePlayPause:f,handleDelete:m}=V();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:" bg-black flex text-white justify-between px-6 py-8 sm:p-8",children:[e.jsx("h1",{className:" font-bold text-3xl sm:text-4xl",children:"JUKEBOX"}),e.jsx("div",{children:e.jsx(b,{size:40})})]}),e.jsxs("div",{className:"flex lg:flex-row lg:items-stretch items-center justify-between rounded-lg sm:flex-col max-sm:flex-col gap-4",children:[e.jsx("div",{className:"sm:flex items-center justify-center w-[20%] hidden sm:m-0",children:e.jsxs("div",{className:"flex flex-col items-center w-full h-full space-y-8 bg-gray-100 p-8",children:[e.jsx("h2",{className:"text-4xl font-bold",children:"Community"}),e.jsxs("div",{className:"w-full flex flex-col hide-scroll px-2 gap-2 max-h-[200px] scroll-m-0 overflow-y-scroll overflow-x-hidden",children:[l.map((s,t)=>e.jsx("div",{className:"flex items-center gap-2 font-semibold cursor-pointer ",children:e.jsxs("label",{onClick:a=>f(a,s.lastModified),className:`border-2 text-ellipsis text-nowrap relative flex justify-between w-full ${s.isPlaying?"text-gray-400":"text-lg"} border-gray-400 rounded-lg p-2 hover:bg-slate-100 duration-300 hover:translate-x-1  hover:scale-[1.009]`,children:[s.name,e.jsx("button",{onClick:()=>m(s.lastModified),className:" hover:text-red-500 absolute top-0 right-0 bg-slate-100 p-3 hover:scale-105",children:e.jsx(v,{})})]})},t)),l.length===0&&e.jsx("p",{className:"font-bold text-center text-lg",children:"No songs available. Please add new songs."})]}),e.jsxs("form",{className:"flex border-2 rounded-lg px-2 items-center w-full",children:[e.jsx(p,{size:30}),e.jsx("input",{type:"file",name:"audio",onChange:c,accept:"audio/*",className:"w-full p-4 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})}),e.jsx("div",{className:"flex items-center pt-10 pb-20 justify-center max-lg:w-1/3 w-2/6 sm:m-0",children:e.jsxs("div",{className:"flex flex-col items-center w-full h-full space-y-8 bg-gray-100 p-8",children:[e.jsx("h2",{className:"text-4xl font-bold",children:"Songs"}),e.jsxs("div",{className:"w-full flex flex-col hide-scroll px-2 gap-2 max-h-[200px] scroll-m-0 overflow-y-scroll overflow-x-hidden",children:[l.map((s,t)=>e.jsx("div",{className:"flex items-center gap-2 font-semibold cursor-pointer ",children:e.jsxs("label",{onClick:a=>f(a,s.lastModified),className:`border-2 text-ellipsis text-nowrap relative flex justify-between w-full ${s.isPlaying?"text-gray-400":"text-lg"} border-gray-400 rounded-lg p-2 hover:bg-slate-100 duration-300 hover:translate-x-1  hover:scale-[1.009]`,children:[s.name,e.jsx("button",{onClick:()=>m(s.lastModified),className:" hover:text-red-500 absolute top-0 right-0 bg-slate-100 p-3 hover:scale-105",children:e.jsx(v,{})})]})},t)),l.length===0&&e.jsx("p",{className:"font-bold text-center text-lg",children:"No songs available. Please add new songs."})]}),e.jsxs("form",{className:"flex border-2 rounded-lg px-2 items-center w-full",children:[e.jsx(p,{size:30}),e.jsx("input",{type:"file",name:"audio",onChange:c,accept:"audio/*",className:"w-full p-4 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})}),e.jsx("div",{className:"sm:flex items-center justify-center w-[20%] hidden sm:m-0",children:e.jsxs("div",{className:"flex flex-col items-center w-full h-full space-y-8 bg-gray-100 p-8",children:[e.jsx("h2",{className:"text-4xl font-bold",children:"Playlist"}),e.jsxs("div",{className:"w-full flex flex-col hide-scroll px-2 gap-2 max-h-[200px] scroll-m-0 overflow-y-scroll overflow-x-hidden",children:[l.map((s,t)=>e.jsx("div",{className:"flex items-center gap-2 font-semibold cursor-pointer ",children:e.jsxs("label",{onClick:a=>f(a,s.lastModified),className:`border-2 text-ellipsis text-nowrap relative flex justify-between w-full ${s.isPlaying?"text-gray-400":"text-lg"} border-gray-400 rounded-lg p-2 hover:bg-slate-100 duration-300 hover:translate-x-1  hover:scale-[1.009]`,children:[s.name,e.jsx("button",{onClick:()=>m(s.lastModified),className:" hover:text-red-500 absolute top-0 right-0 bg-slate-100 p-3 hover:scale-105",children:e.jsx(v,{})})]})},t)),l.length===0&&e.jsx("p",{className:"font-bold text-center text-lg",children:"No songs available. Please add new songs."})]}),e.jsxs("form",{className:"flex border-2 rounded-lg px-2 items-center w-full",children:[e.jsx(p,{size:30}),e.jsx("input",{type:"file",name:"audio",onChange:c,accept:"audio/*",className:"w-full p-4 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})}),e.jsx("div",{className:"flex fixed bottom-0 w-full",children:e.jsxs("div",{className:"bg-black flex-col items-center justify-center text-white w-full h-full p-4",children:[e.jsxs("div",{className:"flex gap-4 items-center sm:flex-row flex-col justify-between pb-2",children:[e.jsxs("div",{className:"flex sm:flex-col flex-row gap-4",children:[e.jsx("h2",{className:"sm:text-3xl text-2xl flex items-center",children:"Now playing:"}),e.jsx("p",{className:"text-center text-xl",children:(h=l[i])!=null&&h.name?l[i].name:"No song selected"})]}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-6 py-2",children:[e.jsx(M,{className:"sm:text-3xl text-2xl"}),e.jsx(y,{className:"sm:text-5xl text-4xl"}),e.jsx(P,{className:"sm:text-5xl text-4xl"}),e.jsx(w,{className:"sm:text-5xl text-4xl"}),e.jsx(H,{className:"sm:text-2xl text-2xl"})]})}),e.jsxs("div",{className:"sm:flex items-center gap-6 hidden",children:[e.jsx(C,{className:"text-4xl "}),e.jsx(N,{className:"text-3xl"}),e.jsx(j,{className:"text-5xl "})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("audio",{className:" sm:w-[70%] max-w-2xl mx-auto",ref:o,src:(u=l[i])==null?void 0:u.links,onEnded:d,controls:!0}),e.jsxs("div",{className:"sm:hidden items-center gap-6 flex",children:[e.jsx(C,{className:"text-3xl"}),e.jsx(N,{className:"text-2xl"}),e.jsx(j,{className:"text-3xl"})]})]})]})})]})]})};export{R as default};
